plugins {
    id 'java'
    id 'org.eclipse.jkube.kubernetes' version '1.10.1'
    id 'org.springframework.boot' version '3.0.1'
    id 'ovh.equino.version' version '0.1.1'
}

allprojects {
    repositories {
        mavenCentral()
    }
    group = 'ovh.equino.actracker-api'
}

dependencies {
    runtimeOnly project(':actracker-api-main-springboot')

    // kubernetes-gradle-plugin automatically adds Kubernetes liveness and readiness probes in generated Kubernetes manifests in presence of Spring Boot Actuator dependency.
    // https://www.eclipse.org/jkube/docs/kubernetes-gradle-plugin/#spring-boot-getting-started
    implementation 'org.springframework.boot:spring-boot-starter-actuator:3.0.1'
}

springBoot {
    mainClass = 'ovh.equino.actracker.main.springboot.ActrackerApi'
}
